<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="utf-8" />
    <meta name="description" content="Interface web para utilização do ansible" />
    <meta name="keywords" content="ansible, playbooks, yaml, gerenciamento,
    configurações" />
    <meta name="author" content="Diego R. Wille C." />
    <link rel="icon" href="imagens/coding.png" />
    <meta name="robots" content="index,follow" />
    <title>Playbooks</title>
    <link rel="stylesheet" href="css/style.css" type="text/css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  </head>
  <body>
    <header id="topo">
      <nav>
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="#">Administração</a></li>
          <li><a href="scripts.html">Scripts</a></li>
          <li><a href="hosts.html">Hosts</a></li>
          <li><a href="yaml.html">YAML</a></li>
          <li><a href="playbooks.html">Playbooks</a></li>
          <li><a href="instalacao.html">Instalação</a></li>
          <li><a href="documentacao.html">Documentação</a></li>
        </ul>
      </nav>
    </header>
    <hr />
    <article>
      <header>
        <h2>Playbooks</h2>
        <p>
          Playbooks fazem parte da linguagem do ansible. São neles que são descritos
          os passos necessários para realizar uma configuração ou a implantação
          de um software, por exemplo.
        </p>
      </header>
      <p>
        Os playbooks foram desenvolvidos utilizando uma linguagem fácil para que,
        além das máquinas, humanos também possam entender o seu conteúdo facilmente.
        <br /><br />
        Exemplos de playbooks:
      </p>
        <hr />
        <a href="#ex1">Exemplo 1</a>
        <a href="#ex2">Exemplo 2</a>
        <a href="#ex3">Exemplo 3</a>
        <a href="#ex4">Exemplo 4</a>
        <hr />
       <ol>
          <li id="ex1">
            <pre>
              ---
              - hosts: webservers
                vars:
                  http_port: 80
                  max_clients: 200
                remote_user: root
                tasks:
                - name: ensure apache is at the latest version
                  yum:
                    name: httpd
                    state: latest
                - name: write the apache config file
                  template:
                    src: /srv/httpd.j2
                    dest: /etc/httpd.conf
                  notify:
                    - restart apache
                - name: ensure apache is running
                  service:
                    name: httpd
                    state: started
                handlers:
                  - name: restart apache
                    service:
                      name: httpd
                      state: restarted
            </pre>
          </li>
          <li id="ex2">
            <pre>
              ---
              - name: Install Apache from an MSI
                hosts: all

                tasks:
                  - name: Download the Apache installer
                    win_get_url:
                      url: 'http://mirror.cc.columbia.edu/pub/software/apache//httpd/binaries/win32/httpd-2.2.25-win32-x86-no_ssl.msi'
                      dest: 'C:\Users\Administrator\Downloads\httpd-2.2.25-win32-x86-no_ssl.msi'

              - name: Install MSI
                win_package:
                  path: 'C:\Users\Administrator\Downloads\httpd-2.2.25-win32-x86-no_ssl.msi'
                  state: present
            </pre>
          </li>
          <li id="ex3">
            <pre>
              ---
              - name: Add a user
                hosts: all
                gather_facts: false
                tasks:
                  - name: Add User
                  win_user:
                    name: ansible
                    password: "@ns1bl3"
                    state: present
            </pre>
          </li>
          <li id="ex4">
            <pre>
              - name: Install IIS
                hosts: all
                gather_facts: false
                tasks:
                  - name: Install IIS
                  win_feature:
                    name: "Web-Server"
                    state: present
                    restart: yes
                    include_sub_features: yes
                    include_management_tools: yes
            </pre>
          </li>
       </ol>
       <p>
         Estes e outros exemplos podem ser encontrados no
         <a href="https://github.com/ansible/ansible-examples" target="_blank">
           repositório do ansible no github
         </a>
         !
       </p>
    </article>
    <footer>
      <hr />
      <a href="#topo">Topo</a>
      <hr />
      <a href="https://github.com/diegorwc/programacao_para_internet"
      target="_blank"><img src="imagens/github-logo.png" alt="Logo do github"
        title="Repositório deste projeto no github" /></a>
      <a href="https://github.com/yaml" target="_blank">
        <img src="imagens/yaml.png" alt="Logo do YAML" height="24"
        width="24" title="Repositório do YAML no github" /></a>
      <a href="https://github.com/ansible/ansible" target="_blank">
        <img src="imagens/ansible.png" alt="Logo do Ansible"
        height="24" width="24" title="Repositório do Ansible no github" /></a>
      <a href="https://www.w3schools.com/html/default.asp" target="_blank"><img
        src="imagens/html5.png" alt="Logo do HTML5" height="24"
        width="24" title="Tutorial de HTML5 da w3schools" /></a>      
    </footer>
  </body>
</html>
